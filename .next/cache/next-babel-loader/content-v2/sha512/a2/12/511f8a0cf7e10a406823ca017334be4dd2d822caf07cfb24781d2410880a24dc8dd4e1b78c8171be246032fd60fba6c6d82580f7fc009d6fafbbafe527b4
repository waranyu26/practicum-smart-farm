{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"/Users/mark26/Documents/Class Work/Practicum/practicum-smart-farm/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mark26/Documents/Class Work/Practicum/practicum-smart-farm/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport Card from './card';\nimport CardAlarm from './card-alarm';\nimport axios from 'axios';\nimport { fetchData } from '../lib/api';\n\nvar useInterval = function useInterval(callback, delay) {\n  var savedCallback = useRef(); // Remember the latest callback.\n\n  useEffect(function () {\n    savedCallback.current = callback;\n  }, [callback]); // Set up the interval.\n\n  useEffect(function () {\n    function tick() {\n      savedCallback.current();\n    }\n\n    if (delay !== null) {\n      var id = setInterval(tick, delay);\n      return function () {\n        return clearInterval(id);\n      };\n    }\n  }, [delay]);\n};\n\nvar Body = function Body(_ref) {\n  var children = _ref.children;\n\n  var _useState = useState([0, 0]),\n      data = _useState[0],\n      setData = _useState[1];\n\n  var _useState2 = useState(2000),\n      intervalTime = _useState2[0],\n      setIntervalTime = _useState2[1];\n\n  useInterval( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var res;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetchData();\n\n          case 2:\n            res = _context.sent;\n            setData(res);\n            setTimeout(function () {}, 500);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), intervalTime);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"flex flex-wrap\",\n    children: [/*#__PURE__*/_jsx(Card, {\n      title: \"Temperature\",\n      level: data[0],\n      unit: \"\\xB0C\",\n      goodInterval: [20, 30],\n      outerRange: 5\n    }), /*#__PURE__*/_jsx(Card, {\n      title: \"Humidity\",\n      level: data[1],\n      unit: \"%\",\n      goodInterval: [36, 70],\n      outerRange: 10\n    }), /*#__PURE__*/_jsx(CardAlarm, {})]\n  });\n};\n\nexport default Body;","map":null,"metadata":{},"sourceType":"module"}